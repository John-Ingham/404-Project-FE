{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _excluded = [\"data\", \"bounces\", \"style\", \"itemWidth\", \"containerWidth\", \"initialIndex\", \"keyExtractor\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport { ViewPropTypes } from \"react-native-web/dist/index\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport PropTypes from 'prop-types';\n\nvar _Dimensions$get = Dimensions.get('window'),\n    width = _Dimensions$get.width;\n\nvar styles = StyleSheet.create({\n  container: {},\n  itemContainer: {\n    justifyContent: 'center'\n  },\n  button: {}\n});\nvar AnimatedFlatList = Animated.createAnimatedComponent(FlatList);\n\nvar Carousel = function (_Component) {\n  _inherits(Carousel, _Component);\n\n  var _super = _createSuper(Carousel);\n\n  function Carousel(props) {\n    var _this;\n\n    _classCallCheck(this, Carousel);\n\n    _this = _super.call(this, props);\n    _this.scrollToIndex = _this.scrollToIndex.bind(_assertThisInitialized(_this));\n    _this.itemAnimatedStyles = _this.itemAnimatedStyles.bind(_assertThisInitialized(_this));\n    _this.renderItemContainer = _this.renderItemContainer.bind(_assertThisInitialized(_this));\n    _this.handleOnScrollBeginDrag = _this.handleOnScrollBeginDrag.bind(_assertThisInitialized(_this));\n    _this.handleOnScrollEndDrag = _this.handleOnScrollEndDrag.bind(_assertThisInitialized(_this));\n    _this.getItemLayout = _this.getItemLayout.bind(_assertThisInitialized(_this));\n\n    _this.initialize();\n\n    _this.setScrollHandler();\n\n    return _this;\n  }\n\n  _createClass(Carousel, [{\n    key: \"initialize\",\n    value: function initialize() {\n      var _this$props = this.props,\n          itemWidth = _this$props.itemWidth,\n          separatorWidth = _this$props.separatorWidth,\n          data = _this$props.data,\n          containerWidth = _this$props.containerWidth,\n          initialIndex = _this$props.initialIndex;\n      this.currentIndex = initialIndex;\n      this.scrollXBegin = 0;\n      this.xOffset = new Animated.Value(0);\n      this.halfContainerWidth = containerWidth / 2;\n      this.halfItemWidth = itemWidth / 2;\n    }\n  }, {\n    key: \"setScrollHandler\",\n    value: function setScrollHandler() {\n      var _this2 = this;\n\n      this.handleOnScroll = Animated.event([{\n        nativeEvent: {\n          contentOffset: {\n            x: this.xOffset\n          }\n        }\n      }], {\n        useNativeDriver: true,\n        listener: function listener(event) {\n          _this2.scrollX = event.nativeEvent.contentOffset.x;\n        }\n      });\n    }\n  }, {\n    key: \"scrollToIndex\",\n    value: function scrollToIndex(index) {\n      var _this3 = this;\n\n      var _this$props2 = this.props,\n          onScrollEnd = _this$props2.onScrollEnd,\n          data = _this$props2.data,\n          itemWidth = _this$props2.itemWidth,\n          separatorWidth = _this$props2.separatorWidth;\n      if (index < 0 || index >= data.length) return;\n      onScrollEnd(data[index], index);\n      this.currentIndex = index;\n      setTimeout(function () {\n        _this3._scrollView.getNode().scrollToOffset({\n          offset: index * (itemWidth + separatorWidth) + _this3.halfItemWidth - _this3.halfContainerWidth,\n          animated: true\n        });\n      });\n    }\n  }, {\n    key: \"handleOnScrollBeginDrag\",\n    value: function handleOnScrollBeginDrag() {\n      var onScrollBeginDrag = this.props.onScrollBeginDrag;\n      onScrollBeginDrag && onScrollBeginDrag();\n      this.scrollXBegin = this.scrollX;\n    }\n  }, {\n    key: \"handleOnScrollEndDrag\",\n    value: function handleOnScrollEndDrag() {\n      var _this$props3 = this.props,\n          minScrollDistance = _this$props3.minScrollDistance,\n          onScrollEndDrag = _this$props3.onScrollEndDrag;\n      onScrollEndDrag && onScrollEndDrag();\n\n      if (this.scrollX < 0) {\n        return;\n      }\n\n      var scrollDistance = this.scrollX - this.scrollXBegin;\n      this.scrollXBegin = 0;\n\n      if (Math.abs(scrollDistance) < minScrollDistance) {\n        this.scrollToIndex(this.currentIndex);\n        return;\n      }\n\n      scrollDistance < 0 ? this.scrollToIndex(this.currentIndex - 1) : this.scrollToIndex(this.currentIndex + 1);\n    }\n  }, {\n    key: \"itemAnimatedStyles\",\n    value: function itemAnimatedStyles(index) {\n      var _this$props4 = this.props,\n          data = _this$props4.data,\n          inActiveScale = _this$props4.inActiveScale,\n          inActiveOpacity = _this$props4.inActiveOpacity,\n          itemWidth = _this$props4.itemWidth,\n          separatorWidth = _this$props4.separatorWidth,\n          containerWidth = _this$props4.containerWidth;\n      var animatedOffset = index === 0 ? this.halfItemWidth : index === data.length - 1 ? containerWidth - this.halfItemWidth : this.halfContainerWidth;\n      var midPoint = index * (itemWidth + separatorWidth) + this.halfItemWidth - animatedOffset;\n      var startPoint = index === 1 ? 0 : index === data.length - 1 ? (data.length - 2) * (itemWidth + separatorWidth) + this.halfItemWidth - this.halfContainerWidth : midPoint - itemWidth - separatorWidth;\n      var endPoint = index === 0 ? itemWidth + separatorWidth + this.halfItemWidth - this.halfContainerWidth : index === data.length - 2 ? (data.length - 1) * (itemWidth + separatorWidth) + itemWidth - containerWidth : midPoint + itemWidth + separatorWidth;\n      var animatedOpacity = {\n        opacity: this.xOffset.interpolate({\n          inputRange: [startPoint, midPoint, endPoint],\n          outputRange: [inActiveOpacity, 1, inActiveOpacity]\n        })\n      };\n      var animatedScale = {\n        transform: [{\n          scale: this.xOffset.interpolate({\n            inputRange: [startPoint, midPoint, endPoint],\n            outputRange: [inActiveScale, 1, inActiveScale]\n          })\n        }]\n      };\n      return _objectSpread(_objectSpread({}, animatedOpacity), animatedScale);\n    }\n  }, {\n    key: \"renderItemContainer\",\n    value: function renderItemContainer(_ref) {\n      var item = _ref.item,\n          index = _ref.index;\n      var _this$props5 = this.props,\n          data = _this$props5.data,\n          renderItem = _this$props5.renderItem,\n          inverted = _this$props5.inverted,\n          itemWidth = _this$props5.itemWidth,\n          separatorWidth = _this$props5.separatorWidth,\n          itemContainerStyle = _this$props5.itemContainerStyle;\n      var marginWidth = index !== data.length - 1 ? separatorWidth : 0;\n      var marginStyle = !!inverted ? {\n        marginLeft: marginWidth\n      } : {\n        marginRight: marginWidth\n      };\n      return React.createElement(Animated.View, {\n        pointerEvents: 'box-none',\n        style: [styles.itemContainer, itemContainerStyle, {\n          width: itemWidth\n        }, marginStyle, this.itemAnimatedStyles(index)]\n      }, renderItem({\n        item: item,\n        index: index\n      }));\n    }\n  }, {\n    key: \"getItemLayout\",\n    value: function getItemLayout(data, index) {\n      var _this$props6 = this.props,\n          itemWidth = _this$props6.itemWidth,\n          separatorWidth = _this$props6.separatorWidth;\n      return {\n        offset: index * (itemWidth + separatorWidth) + this.halfItemWidth - this.halfContainerWidth,\n        length: itemWidth,\n        index: index\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var _this$props7 = this.props,\n          data = _this$props7.data,\n          bounces = _this$props7.bounces,\n          style = _this$props7.style,\n          itemWidth = _this$props7.itemWidth,\n          containerWidth = _this$props7.containerWidth,\n          initialIndex = _this$props7.initialIndex,\n          keyExtractor = _this$props7.keyExtractor,\n          otherProps = _objectWithoutProperties(_this$props7, _excluded);\n\n      return React.createElement(AnimatedFlatList, _extends({}, otherProps, {\n        bounces: bounces,\n        horizontal: true,\n        data: data,\n        decelerationRate: 0,\n        automaticallyAdjustContentInsets: false,\n        keyExtractor: keyExtractor,\n        ref: function ref(_ref2) {\n          return _this4._scrollView = _ref2;\n        },\n        renderItem: this.renderItemContainer,\n        style: [styles.container, {\n          width: containerWidth\n        }, style],\n        showsHorizontalScrollIndicator: false,\n        initialScrollIndex: initialIndex,\n        onScrollBeginDrag: this.handleOnScrollBeginDrag,\n        onScroll: this.handleOnScroll,\n        onScrollEndDrag: this.handleOnScrollEndDrag,\n        getItemLayout: this.getItemLayout\n      }));\n    }\n  }]);\n\n  return Carousel;\n}(Component);\n\nCarousel.propTypes = {\n  style: ViewPropTypes.style,\n  bounces: PropTypes.bool,\n  itemWidth: PropTypes.number,\n  separatorWidth: PropTypes.number,\n  containerWidth: PropTypes.number,\n  itemContainerStyle: ViewPropTypes.style,\n  inActiveScale: PropTypes.number,\n  inActiveOpacity: PropTypes.number,\n  keyExtractor: PropTypes.func,\n  renderItem: PropTypes.func,\n  onScrollEnd: PropTypes.func,\n  pagingEnable: PropTypes.bool,\n  initialIndex: PropTypes.number,\n  minScrollDistance: PropTypes.number,\n  onScrollBeginDrag: PropTypes.func,\n  onScrollEndDrag: PropTypes.func,\n  data: PropTypes.arrayOf(PropTypes.object)\n};\nCarousel.defaultProps = {\n  inActiveScale: 0.8,\n  inActiveOpacity: 0.8,\n  separatorWidth: 0,\n  containerWidth: width,\n  itemWidth: 0.9 * width,\n  bounces: true,\n  data: [],\n  style: {},\n  initialIndex: 0,\n  pagingEnable: true,\n  minScrollDistance: 25,\n  itemContainerStyle: {},\n  keyExtractor: function keyExtractor(item, index) {\n    return index.toString();\n  },\n  renderItem: function renderItem() {},\n  onScrollEnd: function onScrollEnd() {},\n  onScrollBeginDrag: function onScrollBeginDrag() {},\n  onScrollEndDrag: function onScrollEndDrag() {}\n};\nexport default Carousel;","map":{"version":3,"sources":["/Users/philbulleyment/Documents/northcoders/projects/final-project/node_modules/react-native-anchor-carousel/src/carousel.js"],"names":["React","Component","ViewPropTypes","PropTypes","Dimensions","get","width","styles","StyleSheet","create","container","itemContainer","justifyContent","button","AnimatedFlatList","Animated","createAnimatedComponent","FlatList","Carousel","props","scrollToIndex","bind","itemAnimatedStyles","renderItemContainer","handleOnScrollBeginDrag","handleOnScrollEndDrag","getItemLayout","initialize","setScrollHandler","itemWidth","separatorWidth","data","containerWidth","initialIndex","currentIndex","scrollXBegin","xOffset","Value","halfContainerWidth","halfItemWidth","handleOnScroll","event","nativeEvent","contentOffset","x","useNativeDriver","listener","scrollX","index","onScrollEnd","length","setTimeout","_scrollView","getNode","scrollToOffset","offset","animated","onScrollBeginDrag","minScrollDistance","onScrollEndDrag","scrollDistance","Math","abs","inActiveScale","inActiveOpacity","animatedOffset","midPoint","startPoint","endPoint","animatedOpacity","opacity","interpolate","inputRange","outputRange","animatedScale","transform","scale","item","renderItem","inverted","itemContainerStyle","marginWidth","marginStyle","marginLeft","marginRight","bounces","style","keyExtractor","otherProps","ref","propTypes","bool","number","func","pagingEnable","arrayOf","object","defaultProps","toString"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {\n  Animated,\n  StyleSheet,\n  Dimensions,\n  ViewPropTypes,\n  FlatList\n} from 'react-native';\nimport PropTypes from 'prop-types';\n\nconst { width } = Dimensions.get('window');\n\nconst styles = StyleSheet.create({\n  container: {},\n  itemContainer: { justifyContent: 'center' },\n  button: {}\n});\n\nconst AnimatedFlatList = Animated.createAnimatedComponent(FlatList);\n\nclass Carousel extends Component {\n  constructor(props) {\n    super(props);\n    this.scrollToIndex = this.scrollToIndex.bind(this);\n    this.itemAnimatedStyles = this.itemAnimatedStyles.bind(this);\n    this.renderItemContainer = this.renderItemContainer.bind(this);\n    this.handleOnScrollBeginDrag = this.handleOnScrollBeginDrag.bind(this);\n    this.handleOnScrollEndDrag = this.handleOnScrollEndDrag.bind(this);\n    this.getItemLayout = this.getItemLayout.bind(this);\n    this.initialize();\n    this.setScrollHandler();\n  }\n\n  initialize() {\n    const {\n      itemWidth,\n      separatorWidth,\n      data,\n      containerWidth,\n      initialIndex\n    } = this.props;\n    this.currentIndex = initialIndex;\n    this.scrollXBegin = 0;\n    this.xOffset = new Animated.Value(0);\n    this.halfContainerWidth = containerWidth / 2;\n    this.halfItemWidth = itemWidth / 2;\n  }\n\n  setScrollHandler() {\n    this.handleOnScroll = Animated.event(\n      [{ nativeEvent: { contentOffset: { x: this.xOffset } } }],\n      {\n        useNativeDriver: true,\n        listener: (event) => {\n          this.scrollX = event.nativeEvent.contentOffset.x;\n        }\n      }\n    );\n  }\n\n  scrollToIndex(index) {\n    const { onScrollEnd, data, itemWidth, separatorWidth } = this.props;\n    if (index < 0 || index >= data.length) return;\n    onScrollEnd(data[index], index);\n    this.currentIndex = index;\n    setTimeout(() => {\n      this._scrollView.getNode().scrollToOffset({\n        offset:\n          index * (itemWidth + separatorWidth) +\n          this.halfItemWidth -\n          this.halfContainerWidth,\n        animated: true\n      });\n    });\n  }\n  handleOnScrollBeginDrag() {\n    const { onScrollBeginDrag } = this.props;\n    onScrollBeginDrag && onScrollBeginDrag();\n    this.scrollXBegin = this.scrollX;\n  }\n  l;\n  handleOnScrollEndDrag() {\n    const { minScrollDistance, onScrollEndDrag } = this.props;\n    onScrollEndDrag && onScrollEndDrag();\n    if (this.scrollX < 0) {\n      return;\n    }\n    let scrollDistance = this.scrollX - this.scrollXBegin;\n    this.scrollXBegin = 0;\n    if (Math.abs(scrollDistance) < minScrollDistance) {\n      this.scrollToIndex(this.currentIndex);\n      return;\n    }\n    scrollDistance < 0\n      ? this.scrollToIndex(this.currentIndex - 1)\n      : this.scrollToIndex(this.currentIndex + 1);\n  }\n\n  itemAnimatedStyles(index) {\n    const {\n      data,\n      inActiveScale,\n      inActiveOpacity,\n      itemWidth,\n      separatorWidth,\n      containerWidth\n    } = this.props;\n    const animatedOffset =\n      index === 0\n        ? this.halfItemWidth\n        : index === data.length - 1\n        ? containerWidth - this.halfItemWidth\n        : this.halfContainerWidth;\n    const midPoint =\n      index * (itemWidth + separatorWidth) +\n      this.halfItemWidth -\n      animatedOffset;\n    const startPoint =\n      index === 1\n        ? 0\n        : index === data.length - 1\n        ? (data.length - 2) * (itemWidth + separatorWidth) +\n          this.halfItemWidth -\n          this.halfContainerWidth\n        : midPoint - itemWidth - separatorWidth;\n    const endPoint =\n      index === 0\n        ? itemWidth +\n          separatorWidth +\n          this.halfItemWidth -\n          this.halfContainerWidth\n        : index === data.length - 2\n        ? (data.length - 1) * (itemWidth + separatorWidth) +\n          itemWidth -\n          containerWidth\n        : midPoint + itemWidth + separatorWidth;\n\n    const animatedOpacity = {\n      opacity: this.xOffset.interpolate({\n        inputRange: [startPoint, midPoint, endPoint],\n        outputRange: [inActiveOpacity, 1, inActiveOpacity]\n      })\n    };\n\n    const animatedScale = {\n      transform: [\n        {\n          scale: this.xOffset.interpolate({\n            inputRange: [startPoint, midPoint, endPoint],\n            outputRange: [inActiveScale, 1, inActiveScale]\n          })\n        }\n      ]\n    };\n\n    return { ...animatedOpacity, ...animatedScale };\n  }\n\n  renderItemContainer({ item, index }) {\n    const {\n      data,\n      renderItem,\n      inverted,\n      itemWidth,\n      separatorWidth,\n      itemContainerStyle\n    } = this.props;\n    let marginWidth = index !== data.length - 1 ? separatorWidth : 0;\n    let marginStyle = !!inverted\n      ? { marginLeft: marginWidth }\n      : { marginRight: marginWidth };\n    return (\n      <Animated.View\n        pointerEvents={'box-none'}\n        style={[\n          styles.itemContainer,\n          itemContainerStyle,\n          { width: itemWidth },\n          marginStyle,\n          this.itemAnimatedStyles(index)\n        ]}\n      >\n        {renderItem({ item, index })}\n      </Animated.View>\n    );\n  }\n  getItemLayout(data, index) {\n    const {itemWidth,separatorWidth}=this.props;\n    return {\n      offset:index * (itemWidth + separatorWidth) +\n          this.halfItemWidth -\n          this.halfContainerWidth,\n      length: itemWidth,\n      index\n    };\n  }\n\n  render() {\n    const {\n      data,\n      bounces,\n      style,\n      itemWidth,\n      containerWidth,\n      initialIndex,\n      keyExtractor,\n      ...otherProps\n    } = this.props;\n    return (\n      <AnimatedFlatList\n        {...otherProps}\n        bounces={bounces}\n        horizontal\n        data={data}\n        decelerationRate={0}\n        automaticallyAdjustContentInsets={false}\n        keyExtractor={keyExtractor}\n        ref={(ref) => (this._scrollView = ref)}\n        renderItem={this.renderItemContainer}\n        style={[styles.container, { width: containerWidth }, style]}\n        showsHorizontalScrollIndicator={false}\n        initialScrollIndex={initialIndex}\n        onScrollBeginDrag={this.handleOnScrollBeginDrag}\n        onScroll={this.handleOnScroll}\n        onScrollEndDrag={this.handleOnScrollEndDrag}\n        getItemLayout={this.getItemLayout}\n        //scrollEnabled//snapToInterval={itemWidth}\n      />\n    );\n  }\n}\n\nCarousel.propTypes = {\n  style: ViewPropTypes.style,\n  bounces: PropTypes.bool,\n  itemWidth: PropTypes.number,\n  separatorWidth: PropTypes.number,\n  containerWidth: PropTypes.number,\n  itemContainerStyle: ViewPropTypes.style,\n  inActiveScale: PropTypes.number,\n  inActiveOpacity: PropTypes.number,\n  keyExtractor: PropTypes.func,\n  renderItem: PropTypes.func,\n  onScrollEnd: PropTypes.func,\n  pagingEnable: PropTypes.bool,\n  initialIndex: PropTypes.number,\n  minScrollDistance: PropTypes.number,\n  onScrollBeginDrag: PropTypes.func,\n  onScrollEndDrag: PropTypes.func,\n  data: PropTypes.arrayOf(PropTypes.object)\n  //itemHeight: PropTypes.number,\n  //containerHeight: PropTypes.number,\n};\n\nCarousel.defaultProps = {\n  inActiveScale: 0.8,\n  inActiveOpacity: 0.8,\n  separatorWidth: 0,\n  containerWidth: width,\n  itemWidth: 0.9 * width,\n  bounces: true,\n  data: [],\n  style: {},\n  initialIndex: 0,\n  pagingEnable: true,\n  minScrollDistance: 25,\n  itemContainerStyle: {},\n  keyExtractor: (item, index) => index.toString(),\n  renderItem: () => {},\n  onScrollEnd: () => {},\n  onScrollBeginDrag: () => {},\n  onScrollEndDrag: () => {}\n  //containerHeight: 200\n  //itemHeight: 0.2 * height - 20,\n};\nexport default Carousel;\n"]},"metadata":{},"sourceType":"module"}